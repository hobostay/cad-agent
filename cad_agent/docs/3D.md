# CAD Agent - 3D æ‰“å°æŒ‡å—

> AI é©±åŠ¨çš„æ™ºèƒ½ä¸‰ç»´å»ºæ¨¡ä¸ 3D æ‰“å°

## 3D ç”ŸæˆåŠŸèƒ½

CAD Agent æ”¯æŒç”Ÿæˆ **3D STL æ–‡ä»¶**ï¼Œå¯ç›´æ¥ç”¨äºï¼š
- ğŸ–¨ï¸ 3D æ‰“å°
- ğŸ® 3D å»ºæ¨¡è½¯ä»¶ï¼ˆBlender, SolidWorks, Fusion 360ï¼‰
- ğŸ”§ CAD å¯è§†åŒ–

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ 1ï¼šLLM æ¨¡å¼ï¼ˆéœ€è¦ APIï¼‰

```bash
python3 cli.py "è®¾è®¡ä¸€ä¸ªé½¿è½®" --3d
python3 cli.py "M10èºæ “é•¿åº¦50mm" --3d
python3 cli.py "æ¨¡æ•°2é½¿æ•°24çš„é½¿è½®" --3d
```

### æ–¹å¼ 2ï¼šç›´æ¥æ¨¡å¼ï¼ˆæ¨èï¼Œæ— éœ€ APIï¼‰

```bash
# ç”Ÿæˆ 3D é½¿è½®
python3 cli.py --direct --type gear --params '{"module":2,"teeth":24}' --3d

# ç”Ÿæˆ 3D ä¼ åŠ¨è½´
python3 cli.py --direct --type shaft --params '{"diameter":20,"length":100}' --3d

# ç”Ÿæˆ 3D é˜¶æ¢¯è½´
python3 cli.py --direct --type stepped_shaft \
  --params '{"sections":[{"diameter":30,"length":40},{"diameter":25,"length":60}]}' --3d

# ç”Ÿæˆ 3D åº•æ¿
python3 cli.py --direct --type plate \
  --params '{"length":500,"width":300,"thickness":10}' --3d
```

## æ”¯æŒçš„ 3D é›¶ä»¶ç±»å‹

| ç±»å‹ | å‘½ä»¤ | å‚æ•°è¯´æ˜ |
|------|------|----------|
| é½¿è½® | `--type gear` | `module`, `teeth`, `thickness`, `bore_diameter`, `hub_diameter` |
| ä¼ åŠ¨è½´ | `--type shaft` | `diameter`, `length` |
| é˜¶æ¢¯è½´ | `--type stepped_shaft` | `sections` (æ•°ç»„) |
| åº•æ¿ | `--type plate` | `length`, `width`, `thickness` |
| èºæ “ | `--type bolt` | `diameter`, `length` |
| èºæ¯ | `--type nut` | `diameter`, `thickness` |
| æ³•å…° | `--type flange` | `outer_diameter`, `inner_diameter`, `bolt_count`, `bolt_size`, `thickness` |

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šç”Ÿæˆæ±½è½¦é½¿è½®

```bash
python3 cli.py --direct --type gear \
  --params '{"module":2,"teeth":20,"thickness":10,"bore_diameter":10}' \
  --3d \
  --output æ±½è½¦é½¿è½®.stl
```

**å‚æ•°è¯´æ˜ï¼š**
- `module`: 2 - æ¨¡æ•° 2mm
- `teeth`: 20 - 20 é½¿
- `thickness`: 10 - é½¿è½®åšåº¦ 10mm
- `bore_diameter`: 10 - ä¸­å¿ƒå­”ç›´å¾„ 10mm

**è¾“å‡ºï¼š**
- ğŸ“„ `æ±½è½¦é½¿è½®.stl` - 3D æ¨¡å‹æ–‡ä»¶
- ğŸ“‹ è‡ªåŠ¨å¤åˆ¶åˆ°æ¡Œé¢

### ç¤ºä¾‹ 2ï¼šç”Ÿæˆä¼ åŠ¨è½´

```bash
python3 cli.py --direct --type shaft \
  --params '{"diameter":20,"length":100}' \
  --3d \
  --output ä¼ åŠ¨è½´.stl
```

### ç¤ºä¾‹ 3ï¼šç”Ÿæˆé˜¶æ¢¯è½´

```bash
python3 cli.py --direct --type stepped_shaft \
  --params '{
    "sections": [
      {"diameter":30,"length":40},
      {"diameter":25,"length":60},
      {"diameter":20,"length":30}
    ]
  }' \
  --3d
```

### ç¤ºä¾‹ 4ï¼šç”Ÿæˆ 3D åº•æ¿

```bash
python3 cli.py --direct --type plate \
  --params '{"length":500,"width":300,"thickness":10}' \
  --3d \
  --output å®‰è£…æ¿.stl
```

### ç¤ºä¾‹ 5ï¼šç”Ÿæˆèºæ “èºæ¯ç»„åˆ

```bash
# M10 èºæ “
python3 cli.py --direct --type bolt \
  --params '{"diameter":10,"length":50}' \
  --3d --output M10èºæ “.stl

# M10 èºæ¯
python3 cli.py --direct --type nut \
  --params '{"diameter":10,"thickness":8}' \
  --3d --output M10èºæ¯.stl
```

## 2D DXF vs 3D STL

| ç‰¹æ€§ | 2D DXF | 3D STL |
|------|---------|---------|
| ç»´åº¦ | 2D å¹³é¢å›¾ | 3D å®ä½“æ¨¡å‹ |
| æ–‡ä»¶æ‰©å±•å | `.dxf` | `.stl` |
| ç”¨é€” | å·¥ç¨‹å›¾çº¸ã€æ¿€å…‰åˆ‡å‰² | 3D æ‰“å°ã€CNC åŠ å·¥ |
| æŸ¥çœ‹è½¯ä»¶ | AutoCADã€SolidWorks | Blenderã€Ultimaker Cura |
| æ–‡ä»¶å¤§å° | è¾ƒå° | è¾ƒå¤§ |

## æŸ¥çœ‹ STL æ–‡ä»¶

### åœ¨çº¿æŸ¥çœ‹å™¨

- https://www.viewstl.com/
- https://www.dxfviewer.org/ (æ”¯æŒ DXF/STL)

### æ¡Œé¢è½¯ä»¶

- **Blender** (å…è´¹ï¼ŒåŠŸèƒ½å¼ºå¤§) - https://www.blender.org
- **Ultimaker Cura** (3D æ‰“å°åˆ‡ç‰‡) - https://ultimaker.com
- **MeshLab** (ç½‘æ ¼å¤„ç†) - http://www.meshlab.net
- **FreeCAD** (CAD å»ºæ¨¡) - https://www.freecadweb.org

## 3D æ‰“å°æµç¨‹

### 1. å‡†å¤‡ STL æ–‡ä»¶

```bash
# ç”Ÿæˆ STL æ–‡ä»¶
python3 cli.py --direct --type gear --params '{"module":2,"teeth":20}' --3d
```

### 2. åˆ‡ç‰‡è½¯ä»¶

ä½¿ç”¨ Ultimaker Cura æˆ–å…¶ä»–åˆ‡ç‰‡è½¯ä»¶ï¼š

1. å¯¼å…¥ STL æ–‡ä»¶
2. é€‰æ‹©æ‰“å°å‚æ•°ï¼ˆå±‚é«˜ã€å¡«å……ç‡ã€æ”¯æ’‘ç­‰ï¼‰
3. åˆ‡ç‰‡ç”Ÿæˆ G-code
4. ä¿å­˜åˆ° SD å¡

### 3. 3D æ‰“å°

- å®¶ç”¨ 3D æ‰“å°ï¼šFDM æ‰“å°æœºï¼ˆå¦‚ Creality Ender 3ï¼‰
- ä¸“ä¸š 3D æ‰“å°ï¼šSLA/DLP æ‰“å°æœºï¼ˆæ›´é«˜ç²¾åº¦ï¼‰
- åœ¨çº¿æœåŠ¡ï¼šå¡‘é©¬ã€æ‰«æƒ ç­‰

## å‚æ•°å‚è€ƒ

### é½¿è½®å‚æ•°

```json
{
  "module": 2,          // æ¨¡æ•° (1, 1.5, 2, 2.5, 3, ...)
  "teeth": 20,          // é½¿æ•° (â‰¥17)
  "pressure_angle": 20, // å‹åŠ›è§’ (é€šå¸¸ 20Â°)
  "bore_diameter": 10,  // ä¸­å¿ƒå­”ç›´å¾„
  "hub_diameter": 25,   // è½®æ¯‚ç›´å¾„
  "hub_width": 8,       // è½®æ¯‚å®½åº¦
  "thickness": 10       // é½¿è½®åšåº¦
}
```

### é˜¶æ¢¯è½´å‚æ•°

```json
{
  "sections": [
    {"diameter": 30, "length": 40},
    {"diameter": 25, "length": 60},
    {"diameter": 20, "length": 30}
  ]
}
```

## å·²çŸ¥é™åˆ¶

### 1. å¸ƒå°”è¿ç®—

å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒçœŸæ­£çš„å¸ƒå°”å·®é›†/å¹¶é›†è¿ç®—ï¼š
- æœ‰å­”çš„é›¶ä»¶ä¼šæ˜¾ç¤ºä¸ºå®å¿ƒ
- è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ MeshLab/Blender è¿›è¡ŒåæœŸå¤„ç†

### 2. å¤æ‚é½¿å½¢

é½¿è½®é½¿å½¢ä¸ºç®€åŒ–ç‰ˆæœ¬ï¼š
- çœŸæ­£çš„æ¸å¼€çº¿é½¿å½¢éœ€è¦æ›´å¤æ‚çš„ç®—æ³•
- å¯¹äºé«˜ç²¾åº¦éœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨ä¸“ä¸š CAD è½¯ä»¶

### 3. èºçº¹

èºæ “èºçº¹æœªæ˜¾ç¤ºï¼š
- éœ€è¦ä½¿ç”¨ sweep æ“ä½œ
- å¯åœ¨åæœŸå¤„ç†ä¸­æ·»åŠ 

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ‰¾ä¸åˆ° 3D åº“

```bash
pip3 install numpy-stl trimesh
```

### é—®é¢˜ 2ï¼šSTL æ–‡ä»¶æŸå

æ£€æŸ¥ numpy-stl ç‰ˆæœ¬ï¼š
```bash
pip3 show numpy-stl
```

### é—®é¢˜ 3ï¼šç”Ÿæˆé€Ÿåº¦æ…¢

å‡å°‘åˆ†æ®µæ•°ï¼ˆåœ¨ `gen_parts_3d.py` ä¸­ä¿®æ”¹ `segments` å‚æ•°ï¼‰

## åæœŸå¤„ç†

### ä½¿ç”¨ Blender

1. å¯¼å…¥ STL æ–‡ä»¶
2. æ·»åŠ å¸ƒå°”è¿ç®—ï¼ˆæŒ–å­”ã€å€’è§’ç­‰ï¼‰
3. åº”ç”¨æè´¨å’Œçº¹ç†
4. æ¸²æŸ“æˆ–å¯¼å‡º

### ä½¿ç”¨ MeshLab

1. å¯¼å…¥ STL æ–‡ä»¶
2. ä¿®å¤ç½‘æ ¼é”™è¯¯
3. ä¼˜åŒ–ç½‘æ ¼
4. å¯¼å‡ºä¼˜åŒ–åçš„ STL

## æ›´å¤šèµ„æº

- [å¿«é€Ÿå¼€å§‹](QUICKSTART.md)
- [å®Œæ•´ä½¿ç”¨æŒ‡å—](GUIDE.md)
- [Web ç•Œé¢æŒ‡å—](WEB.md)
